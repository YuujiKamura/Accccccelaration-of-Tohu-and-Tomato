# アクセラレーションオブ豆腐：収益化モード

## 概要

収益化モードは、ゲームを自動プレイさせながら仮想通貨コインを獲得できる機能です。自分が寝ている間やAFK（離席中）の間も、ゲームが自動的にプレイされ、スコアに応じたコインを獲得し続けます。

## 特徴

- **自動プレイ機能**: アドバタイズモードを活用した高性能AI操作
- **スコア連動型報酬**: 獲得スコアに応じてコインを自動獲得
- **時間設定機能**: 収益化モードの実行時間をカスタマイズ可能
- **レート設定機能**: コイン獲得レートをカスタマイズ可能
- **リアルタイム表示**: 獲得コイン数と残り時間をリアルタイム表示

## 使用方法

### ゲーム内操作

1. ゲーム中に **F2** キーを押すと、収益化モードのON/OFFを切り替えられます
2. **F3** キーで実行時間の設定を変更できます（テスト用・短時間）
3. **F4** キーでコイン獲得レートを変更できます（テスト用・高レート）

### コマンドラインオプション

以下のオプションを使用してゲームを起動することもできます：

```
python run_game.py --monetize --monetize-hours [時間] --monetize-rate [レート]
```

- `--monetize`: 収益化モードを有効にする
- `--monetize-hours`: 収益化モードの実行時間（時間単位、デフォルト: 1時間）
- `--monetize-rate`: コイン獲得レート（スコア100ごとのコイン数、デフォルト: 0.1）

例:
```
python run_game.py --monetize --monetize-hours 8.0 --monetize-rate 0.5
```
上記コマンドは8時間、スコア100につき0.5コイン獲得のレートで収益化モードを実行します。

## 収益化情報の表示

収益化モードが有効な場合、画面左上に以下の情報が表示されます：

- **獲得コイン**: 現在までに獲得したコインの合計
- **残り時間**: 収益化モードの残り実行時間
- **獲得レート**: スコア100ごとのコイン獲得レート

## 活用例

1. **就寝中の収益化**: 寝る前にモードを有効にし、8時間の設定で翌朝までコインを獲得
2. **作業中の副収入**: テレワーク中や他の作業をしている間にゲームを実行し、副収入を得る
3. **長期間の収益蓄積**: 旅行や長期不在時に設定し、戻った時に大量のコインを獲得

## 注意事項

- 収益化モードを有効にすると、アドバタイズモード（自動プレイ）も自動的に有効になります
- 設定した時間が終了すると、収益化モードとアドバタイズモードは自動的に停止します
- スコアが増加しない場合（例：ゲームオーバー状態）はコインが獲得できません

## 技術的詳細

収益化エンジンは以下の計算式でコインを獲得します：
```
獲得コイン = スコア差分 × 獲得レート ÷ 100
```

例えば、前回の計算からスコアが1000上昇し、レートが0.5の場合：
```
獲得コイン = 1000 × 0.5 ÷ 100 = 5コイン
```

コインはリアルタイムで獲得され、獲得したコインは画面上に表示されます。 